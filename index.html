<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gojira TP | Professional Training Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; overflow-x: hidden; scroll-behavior: smooth; }
        
        .app-view { 
            display: none; 
            min-height: 100vh;
            animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .app-view.active { display: block; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .faq-item { border-bottom: 1px solid #f1f5f9; }
        .faq-answer { 
            max-height: 0; 
            overflow: hidden; 
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            opacity: 0;
        }
        .faq-item.active .faq-answer { 
            max-height: 1500px; 
            opacity: 1; 
            padding-bottom: 2rem; 
            padding-top: 0.5rem;
        }
        .faq-item.active .chevron { transform: rotate(180deg); color: #2563eb; }
        .chevron { transition: transform 0.3s ease; }
        
        .badge-call {
            background: #dbeafe;
            color: #1e40af;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 99px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .pulse-icon {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Journey Tracker Styles */
        .step-transition { transition: all 0.3s ease; }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- SECTION 1: MAIN DASHBOARD -->
    <div id="view-home" class="app-view active">
        <nav class="bg-white/70 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
            <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-9 h-9 bg-slate-900 rounded flex items-center justify-center text-white shadow-lg">
                        <i class="fa-solid fa-chart-line text-sm"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-slate-900">Gojira <span class="text-blue-600">TP</span></span>
                </div>
                <div class="hidden md:flex items-center gap-6 text-sm font-semibold text-slate-500">
                    <span class="text-slate-900">Training Home</span>
                    <button onclick="navigateTo('view-journey')" class="hover:text-blue-600 transition-colors">Customer Journey</button>
                    <a href="#" class="hover:text-blue-600 transition-colors">Support</a>
                </div>
            </div>
        </nav>

        <main class="max-w-7xl mx-auto px-6 py-12 md:py-20">
            <div class="text-center mb-16">
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight leading-tight">
                    Welcome to <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600">Training Portal</span>
                </h1>
                <p class="text-lg text-slate-500 max-w-2xl mx-auto font-medium">Standard Operating Procedures, Knowledge Base, and Brand Guidelines for Customer Success Teams.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- KB Card -->
                <div onclick="navigateTo('view-kb')" class="glass-card hover-lift p-8 rounded-[2rem] cursor-pointer group flex flex-col items-center text-center shadow-sm border border-slate-100">
                    <div class="w-16 h-16 bg-blue-50 text-blue-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-blue-600 group-hover:text-white transition-all">
                        <i class="fa-solid fa-book-open text-2xl"></i>
                    </div>
                    <h2 class="text-xl font-bold mb-2">Knowledge Base</h2>
                    <p class="text-slate-500 text-xs mb-4">FAQs, NBFC info, and AA process.</p>
                    <span class="text-blue-600 font-bold text-[10px] tracking-widest uppercase mt-auto">Open <i class="fa-solid fa-arrow-right ml-1"></i></span>
                </div>

                <!-- Entities Card -->
                <div onclick="navigateTo('view-entities')" class="glass-card hover-lift p-8 rounded-[2rem] cursor-pointer group flex flex-col items-center text-center shadow-sm border border-slate-100">
                    <div class="w-16 h-16 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-indigo-600 group-hover:text-white transition-all">
                        <i class="fa-solid fa-building-columns text-2xl"></i>
                    </div>
                    <h2 class="text-xl font-bold mb-2">Brand SOPs</h2>
                    <p class="text-slate-500 text-xs mb-4">Specific guidelines for each entity.</p>
                    <span class="text-indigo-600 font-bold text-[10px] tracking-widest uppercase mt-auto">View Brands <i class="fa-solid fa-arrow-right ml-1"></i></span>
                </div>

                <!-- NEW ADDON: Journey Tracker Card -->
                <div onclick="navigateTo('view-journey')" class="glass-card hover-lift p-8 rounded-[2rem] cursor-pointer group flex flex-col items-center text-center shadow-sm border border-slate-100">
                    <div class="w-16 h-16 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-emerald-600 group-hover:text-white transition-all">
                        <i class="fa-solid fa-route text-2xl"></i>
                    </div>
                    <h2 class="text-xl font-bold mb-2">Customer Journey</h2>
                    <p class="text-slate-500 text-xs mb-4">End-to-End Visual SOP flow.</p>
                    <span class="text-emerald-600 font-bold text-[10px] tracking-widest uppercase mt-auto">View Journey <i class="fa-solid fa-arrow-right ml-1"></i></span>
                </div>

                <!-- Updates Card -->
                <div onclick="navigateTo('view-updates')" class="glass-card hover-lift p-8 rounded-[2rem] cursor-pointer group flex flex-col items-center text-center shadow-sm border-2 border-dashed border-amber-100">
                    <div class="w-16 h-16 bg-amber-50 text-amber-600 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-amber-600 group-hover:text-white transition-all">
                        <i class="fa-solid fa-bullhorn text-2xl"></i>
                    </div>
                    <h2 class="text-xl font-bold mb-2">New Updates</h2>
                    <p class="text-slate-500 text-xs mb-4">Latest system & policy logs.</p>
                    <span class="text-amber-600 font-bold text-[10px] tracking-widest uppercase mt-auto">Check Logs <i class="fa-solid fa-arrow-right ml-1"></i></span>
                </div>
            </div>
        </main>
    </div>

    <!-- SECTION 2: KNOWLEDGE BASE MODULE -->
    <div id="view-kb" class="app-view bg-white">
        <header class="h-16 flex items-center justify-between px-6 border-b border-slate-100 bg-white sticky top-0 z-50">
            <button onclick="navigateTo('view-home')" class="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold transition-all">
                <i class="fa-solid fa-arrow-left"></i> Home
            </button>
            <div class="flex-1 max-w-md mx-8">
                <div class="relative">
                    <i class="fa-solid fa-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm"></i>
                    <input type="text" id="kbSearch" onkeyup="searchKb()" placeholder="Search FAQs..." class="w-full bg-slate-100 border-none rounded-full py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
            </div>
            <div class="w-20"></div>
        </header>

        <div class="max-w-4xl mx-auto px-6 py-12">
            <div class="mb-12">
                <h1 class="text-4xl font-black text-slate-900 mb-4 tracking-tight">Knowledge Base</h1>
                <p class="text-slate-500 font-medium">Standardized responses for customer queries.</p>
            </div>

            <div id="faqContainer" class="space-y-2">
                <div class="faq-item searchable">
                    <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between py-6 text-left hover:bg-slate-50 px-4 rounded-xl transition-all">
                        <span class="text-lg font-bold text-slate-800">1. What is a Non-Banking Financial Company (NBFC)?</span>
                        <i class="fa-solid fa-chevron-down chevron text-slate-400"></i>
                    </button>
                    <div class="faq-answer px-4">
                        <p class="text-slate-600 leading-relaxed mb-3">A Non-Banking Financial Company (NBFC) is a financial institution that provides various services such as loans, advances, leasing, hire-purchase, and insurance.</p>
                        <p class="text-slate-600 leading-relaxed">It is registered under the Companies Act 1956. Unlike banks, they cannot accept demand deposits or issue cheques drawn on themselves.</p>
                    </div>
                </div>

                <div class="faq-item searchable">
                    <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between py-6 text-left hover:bg-slate-50 px-4 rounded-xl transition-all">
                        <span class="text-lg font-bold text-slate-800">2. Differences between Banks and NBFCs?</span>
                        <i class="fa-solid fa-chevron-down chevron text-slate-400"></i>
                    </button>
                    <div class="faq-answer px-4">
                        <ul class="space-y-3">
                            <li class="flex gap-3 text-slate-700"><i class="fa-solid fa-circle-dot text-blue-500 mt-1.5 text-xs"></i><span>NBFCs cannot accept demand deposits.</span></li>
                            <li class="flex gap-3 text-slate-700"><i class="fa-solid fa-circle-dot text-blue-500 mt-1.5 text-xs"></i><span>NBFCs do not form part of the payment and settlement system.</span></li>
                            <li class="flex gap-3 text-slate-700"><i class="fa-solid fa-circle-dot text-blue-500 mt-1.5 text-xs"></i><span>No deposit insurance facility (DICGC) for NBFC depositors.</span></li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item searchable">
                    <button onclick="toggleFaq(this)" class="w-full flex items-center justify-between py-6 text-left hover:bg-slate-50 px-4 rounded-xl transition-all">
                        <div class="flex items-center gap-3">
                            <span class="text-lg font-bold text-slate-800">3. What is Account Aggregator (AA)?</span>
                            <span class="badge-call">Crucial</span>
                        </div>
                        <i class="fa-solid fa-chevron-down chevron text-slate-400"></i>
                    </button>
                    <div class="faq-answer px-4 space-y-6">
                        <div class="bg-blue-600 text-white p-6 rounded-3xl shadow-lg">
                            <p class="text-lg font-medium">“Sir/Madam, AA is a safe RBI-approved way to verify your bank statement digitally without any manual document upload.”</p>
                        </div>
                        <p class="text-slate-600">It is 100% secure. It only provides 'view' access to your statement for the last 6 months to calculate your loan eligibility. No money can be deducted through this process.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION 3: ENTITIES MODULE -->
    <div id="view-entities" class="app-view bg-slate-50">
        <header class="h-16 flex items-center justify-between px-6 border-b border-slate-200 bg-white sticky top-0 z-50">
            <button onclick="navigateTo('view-home')" class="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold transition-all">
                <i class="fa-solid fa-arrow-left"></i> Home
            </button>
            <span class="font-bold text-slate-800">Financial Brands</span>
            <div class="w-10"></div>
        </header>

        <div class="max-w-6xl mx-auto px-6 py-12">
            <h1 class="text-3xl font-extrabold text-slate-900 mb-10 text-center tracking-tight">Entity Guidelines</h1>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div onclick="openSop('BharatLoan', 'bg-blue-600')" class="bg-white p-8 rounded-[2rem] border border-slate-200 cursor-pointer hover:shadow-xl transition-all text-center group">
                    <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center mx-auto mb-4 font-bold text-2xl shadow-lg shadow-blue-100">B</div>
                    <h3 class="font-bold text-lg">BharatLoan</h3>
                    <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold">Premium Segment</p>
                </div>
                <div onclick="openSop('Rupee112', 'bg-emerald-600')" class="bg-white p-8 rounded-[2rem] border border-slate-200 cursor-pointer hover:shadow-xl transition-all text-center group">
                    <div class="w-16 h-16 bg-emerald-600 text-white rounded-2xl flex items-center justify-center mx-auto mb-4 font-bold text-2xl shadow-lg shadow-emerald-100">R</div>
                    <h3 class="font-bold text-lg">Rupee112</h3>
                    <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold">Instant Approval</p>
                </div>
                <div onclick="openSop('Loan112', 'bg-indigo-600')" class="bg-white p-8 rounded-[2rem] border border-slate-200 cursor-pointer hover:shadow-xl transition-all text-center group">
                    <div class="w-16 h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center mx-auto mb-4 font-bold text-2xl shadow-lg shadow-indigo-100">L</div>
                    <h3 class="font-bold text-lg">Loan112</h3>
                    <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold">Short-term</p>
                </div>
                <div onclick="openSop('Rupeeontime', 'bg-orange-500')" class="bg-white p-8 rounded-[2rem] border border-slate-200 cursor-pointer hover:shadow-xl transition-all text-center group">
                    <div class="w-16 h-16 bg-orange-500 text-white rounded-2xl flex items-center justify-center mx-auto mb-4 font-bold text-2xl shadow-lg shadow-orange-100">T</div>
                    <h3 class="font-bold text-lg">Rupeeontime</h3>
                    <p class="text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold">Flexi-Repay</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION 4: ADDON - CUSTOMER JOURNEY TRACKER -->
    <div id="view-journey" class="app-view bg-white">
        <header class="h-16 flex items-center justify-between px-6 border-b border-slate-100 bg-white sticky top-0 z-50">
            <button onclick="navigateTo('view-home')" class="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold transition-all">
                <i class="fa-solid fa-arrow-left"></i> Home
            </button>
            <span class="font-bold text-slate-800 text-sm">Interactive SOP Flow</span>
            <div class="w-10"></div>
        </header>

        <div class="max-w-5xl mx-auto px-6 py-12">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-black text-slate-900 mb-2">Customer Success Journey</h2>
                <p class="text-slate-500">Click on each step to view the specific operational workflow.</p>
            </div>

            <div class="bg-slate-50 rounded-[3rem] border border-slate-100 p-8 shadow-sm">
                <!-- Visual Timeline -->
                <div class="relative flex justify-between mb-12">
                    <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-200 -translate-y-1/2 z-0"></div>
                    
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(1)">
                        <div id="circle-1" class="w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold mb-2 ring-4 ring-white">1</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Register</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(2)">
                        <div id="circle-2" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">2</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">KYC</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(3)">
                        <div id="circle-3" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">3</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Finance</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(4)">
                        <div id="circle-4" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">4</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Select</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(5)">
                        <div id="circle-5" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">5</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Sign</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(6)">
                        <div id="circle-6" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">6</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Verify</span>
                    </div>
                    <div class="relative z-10 flex flex-col items-center cursor-pointer" onclick="showStep(7)">
                        <div id="circle-7" class="w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white">7</div>
                        <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Disbursal</span>
                    </div>
                </div>

                <!-- Detail Content -->
                <div id="step-content" class="bg-white border border-slate-100 rounded-3xl p-8 step-transition shadow-sm">
                    <h3 id="step-title" class="text-2xl font-black text-slate-900 mb-6">1. Customer Registration</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-xs font-bold text-blue-600 uppercase tracking-widest mb-3">Customer Activity</h4>
                            <p id="customer-action" class="text-slate-600 leading-relaxed font-medium">Customer logs into the portal and verifies their mobile number via OTP.</p>
                        </div>
                        <div>
                            <h4 class="text-xs font-bold text-blue-600 uppercase tracking-widest mb-3">Backend SOP</h4>
                            <ul id="backend-process" class="space-y-3">
                                <li class="flex gap-2 text-slate-600 text-sm"><i class="fa-solid fa-check text-blue-500 mt-1"></i> SMS Gateway trigger</li>
                                <li class="flex gap-2 text-slate-600 text-sm"><i class="fa-solid fa-check text-blue-500 mt-1"></i> IP/Location log capture</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION 5: SOP DETAILS -->
    <div id="view-sop-details" class="app-view bg-white">
        <header class="h-16 flex items-center justify-between px-6 border-b border-slate-100 bg-white sticky top-0 z-50">
            <button onclick="navigateTo('view-entities')" class="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold transition-all">
                <i class="fa-solid fa-arrow-left"></i> All Brands
            </button>
            <div class="flex items-center gap-3">
                <div id="active-entity-icon" class="w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs italic"></div>
                <span id="active-entity-name" class="font-bold text-slate-800"></span>
            </div>
            <button onclick="navigateTo('view-home')" class="text-slate-400 hover:text-slate-900 transition-colors">
                <i class="fa-solid fa-house"></i>
            </button>
        </header>
        <div class="max-w-4xl mx-auto px-6 py-12">
            <div id="sopContent" class="space-y-6"></div>
        </div>
    </div>

    <!-- SECTION 6: UPDATES -->
    <div id="view-updates" class="app-view bg-white">
        <header class="h-16 flex items-center justify-between px-6 border-b border-slate-100 bg-white sticky top-0 z-50">
            <button onclick="navigateTo('view-home')" class="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold transition-all">
                <i class="fa-solid fa-arrow-left"></i> Home
            </button>
            <span class="font-bold text-slate-800">System Updates</span>
            <div class="w-10"></div>
        </header>

        <div class="max-w-4xl mx-auto px-6 py-20 flex flex-col items-center text-center">
            <div class="w-20 h-20 bg-blue-50 text-blue-500 rounded-full flex items-center justify-center mb-8 pulse-icon">
                <i class="fa-solid fa-satellite-dish text-3xl"></i>
            </div>
            <h1 class="text-3xl font-black text-slate-900 mb-4 tracking-tight">System Status: Active</h1>
            <p class="text-slate-600 max-w-lg mb-8 leading-relaxed">The portal is currently up-to-date. No new policy changes reported for today.</p>
            <div class="w-full max-w-md p-6 bg-slate-50 rounded-3xl border border-slate-100 text-left">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                    <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Version 2.2.0</span>
                </div>
                <p class="text-sm text-slate-400 italic">Added: Interactive Customer Journey SOP and Visual Workflow Addon.</p>
            </div>
        </div>
    </div>

    <script>
        function navigateTo(viewId) {
            document.querySelectorAll('.app-view').forEach(view => {
                view.classList.remove('active');
            });
            const target = document.getElementById(viewId);
            target.classList.add('active');
            window.scrollTo(0, 0);
        }

        function toggleFaq(btn) {
            const item = btn.parentElement;
            const isActive = item.classList.contains('active');
            document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
            if (!isActive) item.classList.add('active');
        }

        function searchKb() {
            const query = document.getElementById('kbSearch').value.toLowerCase();
            const items = document.querySelectorAll('.searchable');
            items.forEach(item => {
                const text = item.innerText.toLowerCase();
                item.style.display = text.includes(query) ? "block" : "none";
            });
        }

        const journeyData = {
            1: {
                title: "1. Registration",
                action: "Customer logs into the portal and verifies their mobile number via OTP.",
                process: ["System triggers automated OTP", "Validates user identity and session", "Captures initial lead metadata"]
            },
            2: {
                title: "2. KYC Submission",
                action: "Uploads National ID and takes a live selfie for biometric verification.",
                process: ["Automated OCR verification", "Liveness check performed to prevent fraud", "Aadhaar/PAN cross-check"]
            },
            3: {
                title: "3. Financial Verification",
                action: "Connects bank account via Account Aggregator for digital statement analysis.",
                process: ["Flow analysis for 6 months", "Debt-to-Income calculation", "Risk scoring trigger"]
            },
            4: {
                title: "4. Loan Selection",
                action: "Chooses specific amount and tenure within the approved limit.",
                process: ["EMI generation based on tenure", "Interest rate assignment", "Fee disclosure generation"]
            },
            5: {
                title: "5. Digital Signing",
                action: "Reviews the contract and signs via e-sign OTP service.",
                process: ["Legal agreement timestamping", "Document storage in secure vault", "Compliance audit trail logged"]
            },
            6: {
                title: "6. Operational Verification",
                action: "Waiting phase for final manual/automated sanity checks.",
                process: ["Fraud engine final sweep", "Data consistency check", "Credit team final approval"]
            },
            7: {
                title: "7. Disbursal",
                action: "Receives SMS/Mail confirmation as funds are wired to the bank.",
                process: ["IMPS/NEFT payment trigger", "Transaction ID update in CRM", "Repayment schedule activation"]
            }
        };

        function showStep(stepId) {
            const data = journeyData[stepId];
            document.getElementById('step-title').innerText = data.title;
            document.getElementById('customer-action').innerText = data.action;
            const list = document.getElementById('backend-process');
            list.innerHTML = '';
            data.process.forEach(p => {
                list.innerHTML += `<li class="flex gap-2 text-slate-600 text-sm"><i class="fa-solid fa-check text-blue-500 mt-1"></i> ${p}</li>`;
            });

            for (let i = 1; i <= 7; i++) {
                const circle = document.getElementById(`circle-${i}`);
                if (i < stepId) {
                    circle.className = "w-10 h-10 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold mb-2 ring-4 ring-white transition-all";
                    circle.innerHTML = '<i class="fa-solid fa-check"></i>';
                } else if (i == stepId) {
                    circle.className = "w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-bold mb-2 ring-4 ring-white transition-all scale-110";
                    circle.innerHTML = i;
                } else {
                    circle.className = "w-10 h-10 rounded-full bg-slate-200 text-slate-600 flex items-center justify-center font-bold mb-2 ring-4 ring-white transition-all";
                    circle.innerHTML = i;
                }
            }
        }

        const sopData = {
            'BharatLoan': { tagline: "Premium Salaried", steps: [{ title: "Target", desc: "Salary > 25k. Official email mandatory." }, { title: "Verification", desc: "Physical check for > 50k." }] },
            'Rupee112': { tagline: "Micro Loans", steps: [{ title: "Speed", desc: "15-min processing goal." }, { title: "Limit", desc: "Max 30 days for new users." }] },
            'Loan112': { tagline: "Short Term", steps: [{ title: "Entry", desc: "Starting from ₹3,000." }, { title: "Method", desc: "AA is mandatory." }] },
            'Rupeeontime': { tagline: "Flexible", steps: [{ title: "Extension", desc: "Pay interest only to extend." }, { title: "Banking", desc: "IMPS name must match PAN." }] }
        };

        function openSop(name, colorClass) {
            document.getElementById('active-entity-name').innerText = name;
            const icon = document.getElementById('active-entity-icon');
            icon.innerText = name.charAt(0);
            icon.className = `w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs ${colorClass}`;
            const data = sopData[name];
            let html = `<div class="mb-10"><span class="px-4 py-1 rounded-full bg-slate-100 text-slate-500 font-bold text-[10px] uppercase tracking-widest">${data.tagline}</span><h2 class="text-4xl font-black text-slate-900 mt-4">Brand SOP</h2></div><div class="space-y-4">`;
            data.steps.forEach((step, index) => {
                html += `<div class="p-8 bg-slate-50 rounded-[2rem] border border-slate-100 flex gap-6 items-start"><div class="w-10 h-10 rounded-xl bg-white shadow-sm flex items-center justify-center text-blue-600 font-bold flex-shrink-0">${index + 1}</div><div><h4 class="text-lg font-bold text-slate-800">${step.title}</h4><p class="text-slate-500 mt-2">${step.desc}</p></div></div>`;
            });
            document.getElementById('sopContent').innerHTML = html + `</div>`;
            navigateTo('view-sop-details');
        }
    </script>
</body>
</html>
